---
import BaseLayout from "../layouts/BaseLayout.astro";

const sampleEvents = [
  { id: "event-1", name: "Winter-Wochenende 2026", date: "2026-02-14" },
  { id: "event-2", name: "Sommerlager 2026", date: "2026-08-02" },
];

const groupPriority = ["ğŸ¦â€ğŸ”¥ Leitende / Ehemalige / Externe", "ğŸ”µ Jungpfadfinder*innen", "ğŸŸ¢ Pfadfinder*innen", "ğŸŸ  WÃ¶lflinge", "ğŸ”´ Rover"];
---
<BaseLayout title="Carpool Planner">
  <header class="flex flex-col gap-2">
    <p class="text-sm font-semibold text-slate-300 uppercase tracking-wide">DPSG Carpool Planner</p>
    <h1 class="text-3xl font-bold text-white">Events & Fahrten planen</h1>
    <p class="text-sm text-slate-300">Campflow-Events laden (Dropdown), CSV-Demo nutzen, Hin- und RÃ¼ckfahrt getrennt planen, Leiter priorisiert.</p>
  </header>

  <section class="rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-lg shadow-slate-900/40">
    <h2 class="text-lg font-semibold text-white">Event-Auswahl</h2>
    <p class="text-sm text-slate-300 mb-3">SpÃ¤ter via Campflow-API: Dropdown zum gewÃ¼nschten Event. Aktuell Demo-Events.</p>
    <div class="flex flex-col gap-3 md:flex-row md:items-center">
      <label class="text-sm text-slate-200" for="event">Event</label>
      <select id="event" name="event" class="w-full md:w-auto rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-white focus:border-blue-400 focus:outline-none">
        {sampleEvents.map((evt) => (
          <option value={evt.id}>
            {evt.name} Â· {evt.date}
          </option>
        ))}
      </select>
      <button class="inline-flex items-center justify-center rounded-lg bg-blue-500 px-3 py-2 text-sm font-semibold text-white hover:bg-blue-400 transition-colors" type="button">Campflow aktualisieren</button>
    </div>
  </section>

  <section class="grid gap-4 md:grid-cols-2">
    <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-lg shadow-slate-900/40">
      <h3 class="text-base font-semibold text-white">Teilnehmer (CSV-Demo)</h3>
      <p class="text-sm text-slate-300 mb-3">Vor- und Nachname sind das Kind; Anzahl inkl. eigenes Kind.</p>
      <div class="rounded-lg border border-slate-800 bg-slate-900/80 px-3 py-2 text-sm text-slate-200">
        <ul class="space-y-1">
          <li class="flex justify-between"><span>Klara Auer (ğŸŸ¢ Pfadfinder*innen)</span><span class="text-slate-400">H 3 Â· R 3</span></li>
          <li class="flex justify-between"><span>Sebastian Bartlechner (ğŸ¦â€ğŸ”¥ Leitende / Ehemalige / Externe)</span><span class="text-slate-400">H 3 Â· R 3</span></li>
          <li class="flex justify-between"><span>Mina Drechsler (ğŸŸ  WÃ¶lflinge)</span><span class="text-slate-400">H 4 Â· R 0</span></li>
        </ul>
      </div>
      <p class="text-xs text-slate-400 mt-2">CSV bleibt lokal (nicht committen). SpÃ¤ter ersetzt durch Campflow-Teilnehmer.</p>
    </div>

    <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-lg shadow-slate-900/40">
      <h3 class="text-base font-semibold text-white">Fahrer-PrioritÃ¤t</h3>
      <p class="text-sm text-slate-300 mb-3">Leiter zuerst, dann restliche Gruppen.</p>
      <ol class="space-y-1 text-sm text-slate-200 list-decimal list-inside">
        {groupPriority.map((g) => (
          <li>{g}</li>
        ))}
      </ol>
      <p class="text-xs text-slate-400 mt-2">Platzlimit je Fahrzeug: max laut Eventdaten (Hin/RÃ¼ck getrennt).</p>
    </div>
  </section>

  <section class="rounded-2xl border border-slate-800 bg-slate-950/60 p-4 shadow-lg shadow-slate-900/40">
    <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
      <div>
        <h3 class="text-base font-semibold text-white">Fahrtenplanung</h3>
        <p class="text-sm text-slate-300">Hin- und RÃ¼ckfahrt getrennt; manuelle Anpassung mÃ¶glich.</p>
      </div>
      <div class="flex gap-2 text-sm">
        <button class="rounded-lg bg-slate-800 px-3 py-2 text-white border border-slate-700">Autos vorschlagen</button>
        <button class="rounded-lg bg-blue-500 px-3 py-2 text-white font-semibold hover:bg-blue-400">CSV Export</button>
        <button class="rounded-lg bg-slate-700 px-3 py-2 text-white">Copy</button>
      </div>
    </div>
    <div class="mt-3 grid gap-3 md:grid-cols-2">
      <div class="rounded-xl border border-slate-800 bg-slate-900/80 p-3">
        <h4 class="text-sm font-semibold text-white mb-2">Hinfahrt</h4>
        <ul class="space-y-2 text-sm text-slate-200">
          <li class="rounded-lg border border-slate-700/80 bg-slate-800/60 p-2">
            <div class="flex justify-between"><span>Fahrer: Sebastian (Leiter)</span><span>Sitze: 3</span></div>
            <div class="text-slate-300">Mitfahrende: Klara, Mina</div>
          </li>
        </ul>
      </div>
      <div class="rounded-xl border border-slate-800 bg-slate-900/80 p-3">
        <h4 class="text-sm font-semibold text-white mb-2">RÃ¼ckfahrt</h4>
        <ul class="space-y-2 text-sm text-slate-200">
          <li class="rounded-lg border border-slate-700/80 bg-slate-800/60 p-2">
            <div class="flex justify-between"><span>Fahrer: Sebastian (Leiter)</span><span>Sitze: 3</span></div>
            <div class="text-slate-300">Mitfahrende: Klara, Michael</div>
          </li>
        </ul>
      </div>
    </div>
  </section>
</BaseLayout>
